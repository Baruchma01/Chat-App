{"ast":null,"code":"var _jsxFileName = \"/Users/baruchmashasha/Desktop/Chat-App/client/src/containers/Chat/Chat.js\";\nimport React, { useState, useEffect } from \"react\";\nimport classes from \"./Chat.css\";\nimport openSocket from \"socket.io-client\";\nconst socket = openSocket(\"http://localhost:5000\");\n\nconst Chat = ({\n  location\n}) => {\n  const [msg, setMsg] = useState(\"\");\n  const [roomMessage, setRoomMessage] = useState([]);\n  const [activeUsers, setActiveUsers] = useState([]);\n  const [currentRoom, setCurrentRoom] = useState(\"\");\n  const {\n    username,\n    room\n  } = location.state.user;\n  useEffect(() => {\n    connectToChat(username, room);\n  }, []);\n\n  const connectToChat = (username, room) => {\n    socket.emit(\"joinRoom\", {\n      username,\n      room\n    });\n  }; // Get message from the server\n\n\n  socket.on(\"message\", message => {\n    setRoomMessage([...roomMessage, message]);\n  }); // Get room and users\n\n  socket.on(\"roomUsers\", ({\n    room,\n    users\n  }) => {\n    setActiveUsers(users);\n    setCurrentRoom(room);\n  });\n\n  const submitMessageHandler = e => {\n    e.preventDefault();\n\n    if (msg.length === 0) {\n      return console.log(\"error: empty msg\");\n    } else {\n      socket.emit(\"chatMessage\", msg);\n      setMsg('');\n    }\n  };\n\n  const handleMsgChange = e => {\n    setMsg(e.target.value);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.ChatContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: classes.ChatHeader,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-smile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }), \" ChatCord\"), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/\",\n    className: classes.Btn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, \"Leave Room\")), /*#__PURE__*/React.createElement(\"main\", {\n    className: classes.ChatMain,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.ChatSideBar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-comments\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }), \" Room Name:\"), /*#__PURE__*/React.createElement(\"h2\", {\n    id: \"room-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }, currentRoom), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-users\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }), \" Users\"), /*#__PURE__*/React.createElement(\"ul\", {\n    id: \"users\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, (activeUsers || []).map(user => /*#__PURE__*/React.createElement(\"li\", {\n    key: user.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 15\n    }\n  }, user.username)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.ChatMessage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, (roomMessage || []).map(message => /*#__PURE__*/React.createElement(\"div\", {\n    key: Math.random(),\n    className: classes.Message,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: classes.Meta,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 15\n    }\n  }, message.username, \" \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 36\n    }\n  }, message.time)), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 15\n    }\n  }, message.text))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.ChatFormContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    id: \"chat-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    id: \"msg\",\n    type: \"text\",\n    placeholder: \"Enter Message\",\n    value: msg,\n    onChange: handleMsgChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: classes.Btn,\n    onClick: submitMessageHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-paper-plane\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }), \" Send\"))));\n};\n\nexport default Chat;","map":{"version":3,"sources":["/Users/baruchmashasha/Desktop/Chat-App/client/src/containers/Chat/Chat.js"],"names":["React","useState","useEffect","classes","openSocket","socket","Chat","location","msg","setMsg","roomMessage","setRoomMessage","activeUsers","setActiveUsers","currentRoom","setCurrentRoom","username","room","state","user","connectToChat","emit","on","message","users","submitMessageHandler","e","preventDefault","length","console","log","handleMsgChange","target","value","ChatContainer","ChatHeader","Btn","ChatMain","ChatSideBar","map","id","ChatMessage","Math","random","Message","Meta","time","text","ChatFormContainer"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport classes from \"./Chat.css\";\nimport openSocket from \"socket.io-client\";\nconst socket = openSocket(\"http://localhost:5000\");\n\nconst Chat = ({ location }) => {\n  const [msg, setMsg] = useState(\"\");\n  const [roomMessage, setRoomMessage] = useState([]);\n  const [activeUsers, setActiveUsers] = useState([]);\n  const [currentRoom, setCurrentRoom] = useState(\"\");\n\n  const { username, room } = location.state.user;\n\n  useEffect(() => {\n    connectToChat(username, room);\n  }, []);\n\n  const connectToChat = (username, room) => {\n    socket.emit(\"joinRoom\", { username, room });\n  }\n\n  // Get message from the server\n  socket.on(\"message\", (message) => {\n    setRoomMessage([...roomMessage, message]);\n  });\n\n  // Get room and users\n  socket.on(\"roomUsers\", ({ room, users }) => {\n    setActiveUsers(users);\n    setCurrentRoom(room);\n  });\n\n  const submitMessageHandler = (e) => {\n    e.preventDefault();\n    if (msg.length === 0) {\n      return console.log(\"error: empty msg\");\n    } else {\n      socket.emit(\"chatMessage\", msg);\n      setMsg('');\n    }\n  };\n\n  const handleMsgChange = (e) => {\n    setMsg(e.target.value);\n  };\n\n  return (\n    <div className={classes.ChatContainer}>\n      <header className={classes.ChatHeader}>\n        <h1>\n          <i className=\"fas fa-smile\"></i> ChatCord\n        </h1>\n        <a href=\"/\" className={classes.Btn}>\n          Leave Room\n        </a>\n      </header>\n      <main className={classes.ChatMain}>\n        <div className={classes.ChatSideBar}>\n          <h3>\n            <i className=\"fas fa-comments\"></i> Room Name:\n          </h3>\n          <h2 id=\"room-name\">{currentRoom}</h2>\n          <h3>\n            <i className=\"fas fa-users\"></i> Users\n          </h3>\n          <ul id=\"users\">\n            {(activeUsers || []).map((user) => (\n              <li key={user.id}>{user.username}</li>\n            ))}\n          </ul>\n        </div>\n        <div className={classes.ChatMessage}>\n          {(roomMessage || []).map((message) => (\n            <div key={Math.random()} className={classes.Message}>\n              <p className={classes.Meta}>\n                {message.username} <span>{message.time}</span>\n              </p>\n              <p className=\"text\">{message.text}</p>\n            </div>\n          ))}\n        </div>\n      </main>\n      <div className={classes.ChatFormContainer}>\n        <form id=\"chat-form\">\n          <input\n            id=\"msg\"\n            type=\"text\"\n            placeholder=\"Enter Message\"\n            value={msg}\n            onChange={handleMsgChange}\n          />\n          <button className={classes.Btn} onClick={submitMessageHandler}>\n            <i className=\"fas fa-paper-plane\"></i> Send\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Chat;\n"]},"metadata":{},"sourceType":"module"}